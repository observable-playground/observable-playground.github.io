(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[4],{MA1v:function(n,t,r){!function(n){"use strict";var t=function(n,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,r)};function r(n,r){function e(){this.constructor=n}t(n,r),n.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}function e(){for(var n=0,t=0,r=arguments.length;t<r;t++)n+=arguments[t].length;var e=Array(n),i=0;for(t=0;t<r;t++)for(var u=arguments[t],o=0,s=u.length;o<s;o++,i++)e[i]=u[o];return e}function i(){}var u=Array.isArray||function(n){return n instanceof Array};function o(n){return n&&n._isObservable}function s(n,t){for(var r=0;r<n.length;r++)if(!t(n[r]))return!1;return!0}function c(n){return function(){return n}}function f(n,t){for(var r=0;r<n.length;r++)if(t(n[r]))return!0;return!1}function a(n,t){return function(){return n.apply(t,arguments)}}function h(n,t){return-1!==S(n,t)}function p(n,t){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t(r,n[r])}function l(n){return 0===n.length}function v(n,t){for(var r,e=[],i=0;i<t.length;i++)n(r=t[i])&&e.push(r);return e}function d(n,t){return b(t,[],(function(t,r){return t.concat(n(r))}))}function y(n){return function(t,r){return n(r,t)}}function b(n,t,r){for(var e=0;e<n.length;e++)t=r(t,n[e]);return t}function w(n){return n[0]}function m(n){return n}function g(n,t){return n.indexOf(t)}function E(n,t){for(var r=0;r<n.length;r++)if(t===n[r])return r;return-1}var S=Array.prototype.indexOf?g:E;function D(n,t){for(var r=0;r<n.length;r++)if(t(n[r]))return r;return-1}function I(n){return"function"===typeof n}function A(n){return n[n.length-1]}function _(n,t){for(var r,e=[],i=0;i<t.length;i++)r=t[i],e.push(n(r));return e}function k(n){return function(t){return!n(t)}}function B(n,t){var r=S(t,n);if(r>=0)return t.splice(r,1)}function x(n){return n.slice(1,n.length)}function M(n){return u(n)?n:[n]}function W(n){return"function"==typeof n?n:function(t){return n}}function O(n){var t={}.hasOwnProperty;try{if(N++,null==n)return"undefined";if(I(n))return"function";if(u(n))return N>5?"[..]":"["+_(O,n).toString()+"]";if(null!=(null!=n?n.toString:void 0)&&n.toString!==Object.prototype.toString)return n.toString();if("object"===typeof n){if(N>5)return"{..}";var r=[];for(var e in n)if(t.call(n,e)){var i=function(){try{return n[e]}catch(t){return t}}();r.push(O(e)+":"+O(i))}return"{"+r+"}"}return n}finally{N--}}function T(n,t){return v((function(t){return t!==n}),t)}var P={indexOf:S,indexWhere:D,head:w,always:c,negate:k,empty:l,tail:x,filter:v,map:_,each:p,toArray:M,contains:h,id:m,last:A,all:s,any:f,without:T,remove:B,fold:b,flatMap:d,bind:a,isFunction:I,toFunction:W,toString:O},N=0,C=void 0,F="<no-more>";function L(n,t){if(!t)throw new Error(n)}function V(n){if(!(null!=n?n._isEventStream:void 0))throw new Error("not an EventStream : "+n)}function q(n){if(!(null!=n?n._isObservable:void 0))throw new Error("not an Observable : "+n)}function U(n){return L("not a function : "+n,P.isFunction(n))}function j(n){if(!u(n))throw new Error("not an array : "+n)}function Q(n){return L("no arguments supported",0===n.length)}var z={scheduler:{setTimeout:function(n,t){return setTimeout(n,t)},setInterval:function(n,t){return setInterval(n,t)},clearInterval:function(n){return clearInterval(n)},clearTimeout:function(n){return clearTimeout(n)},now:function(){return(new Date).getTime()}}};function H(){return z.scheduler}function R(n){z.scheduler=n}var Y=void 0,J=[],X={},$=[],G=0,K={},Z=!1;function nn(){return P.toString({rootEvent:Y,processingAfters:Z,waiterObs:J,waiters:X,aftersStack:$,aftersStackHeight:G,flushed:K})}function tn(n){n<=G||($[n-1]||($[n-1]=[[],0]),G=n)}function rn(){return void 0!==Y}function en(n,t){Y?cn(n,t):z.scheduler.setTimeout(t,0)}function un(n,t){if(!Y&&!Z)return t();tn(1);for(var r=0;r<G-1&&!on(n,$[r][0]);)r++;$[r][0].push([n,t]),Y||sn()}function on(n,t){for(var r=0;r<t.length;r++)if(t[r][0].id==n.id)return!0;return!1}function sn(){var n=G;if(n){var t=!Z;Z=!0;try{for(;G>=n;){var r=$[G-1];if(!r)throw new Error("Unexpected stack top: "+r);var e=r[0],i=r[1];if(!(i<e.length)){r[0]=[],r[1]=0;break}var u=e[i][1];r[1]++,tn(G+1);var o=!1;try{for(u(),o=!0;G>n&&0==$[G-1][0].length;)G--}finally{o||($=[],G=0)}}}finally{t&&(Z=!1)}}}function cn(n,t){if(Y){var r=X[n.id];return void 0===r?(r=X[n.id]=[t],J.push(n)):r.push(t)}return t()}function fn(){for(;J.length>0;)an(0,!0);K={}}function an(n,t){var r=J[n],e=r.id,i=X[e];J.splice(n,1),delete X[e],t&&J.length>0&&hn(r);for(var u=0;u<i.length;u++)(0,i[u])()}function hn(n){if(!K[n.id]){for(var t,r=n.internalDeps(),e=0;e<r.length;e++)hn(t=r[e]),X[t.id]&&an(P.indexOf(J,t),!1);K[n.id]=!0}}function pn(n,t,r,e){if(Y)return r.apply(t,e);Y=n;try{var i=r.apply(t,e);fn()}finally{Y=void 0,sn()}return i}function ln(){return Y?Y.id:void 0}function vn(n,t,r){U(r);var e=!1,i=!1,u=function(){i=!0},o=function(){e=!0,u()};return u=t((function(t){return un(n,(function(){e||r(t)===F&&o()})),C})),i&&u(),o}function dn(){return J.length>0}var yn={toString:nn,whenDoneWith:cn,hasWaiters:dn,inTransaction:pn,currentEventId:ln,wrappedSubscribe:vn,afterTransaction:un,soonButNotYet:en,isInTransaction:rn},bn=function(){function n(n,t,r){void 0===r&&(r=[]),this._isDesc=!0,this.context=n,this.method=t,this.args=r}return n.prototype.deps=function(){return this.cachedDeps||(this.cachedDeps=mn([this.context].concat(this.args))),this.cachedDeps},n.prototype.toString=function(){var n=P.map(P.toString,this.args);return P.toString(this.context)+"."+P.toString(this.method)+"("+n+")"},n}();function wn(n,t){for(var r=[],e=2;e<arguments.length;e++)r[e-2]=arguments[e];var i=n||t;return i&&i._isDesc?n||t:new bn(n,t,r)}function mn(n){return u(n)?P.flatMap(mn,n):o(n)?[n]:("undefined"!==typeof n&&null!==n?n._isSource:void 0)?[n.obs]:[]}var gn=function(){return C},En=function(){return C};function Sn(n,t,r){return r.transform(Dn(n,t),new bn(r,"withStateMachine",[n,t]))}function Dn(n,t){var r=n;return function(n,e){var i=t(r,n),u=i[0],o=i[1];r=u;for(var s=C,c=0;c<o.length;c++)if((s=e(o[c]))===F)return s;return s}}var In=function(){function n(n){this._isSome=!0,this.isDefined=!0,this.value=n}return n.prototype.getOrElse=function(n){return this.value},n.prototype.get=function(){return this.value},n.prototype.filter=function(t){return t(this.value)?new n(this.value):An},n.prototype.map=function(t){return new n(t(this.value))},n.prototype.forEach=function(n){n(this.value)},n.prototype.toArray=function(){return[this.value]},n.prototype.inspect=function(){return"Some("+this.value+")"},n.prototype.toString=function(){return this.inspect()},n}(),An={_isNone:!0,getOrElse:function(n){return n},get:function(){throw new Error("None.get()")},filter:function(){return An},map:function(){return An},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}};function _n(){return An}function kn(n){return n&&(n._isSome||n._isNone)?n:new In(n)}function Bn(n){return"undefined"!==typeof n&&null!==n&&n._isNone}var xn=0,Mn=function(){function n(){this.id=++xn,this.isEvent=!0,this._isEvent=!0,this.isEnd=!1,this.isInitial=!1,this.isNext=!1,this.isError=!1,this.hasValue=!1}return n.prototype.filter=function(n){return!0},n.prototype.inspect=function(){return this.toString()},n.prototype.log=function(){return this.toString()},n.prototype.toNext=function(){return this},n}(),Wn=function(n){function t(t){var r=n.call(this)||this;if(r.hasValue=!0,t instanceof Mn)throw new Cn("Wrapping an event inside other event");return r.value=t,r}return r(t,n),t.prototype.fmap=function(n){return this.apply(n(this.value))},t.prototype.filter=function(n){return n(this.value)},t.prototype.toString=function(){return P.toString(this.value)},t.prototype.log=function(){return this.value},t}(Mn),On=function(n){function t(t){var r=n.call(this,t)||this;return r.isNext=!0,r._isNext=!0,r}return r(t,n),t.prototype.apply=function(n){return new t(n)},t}(Wn),Tn=function(n){function t(t){var r=n.call(this,t)||this;return r.isInitial=!0,r._isInitial=!0,r}return r(t,n),t.prototype.apply=function(n){return new t(n)},t.prototype.toNext=function(){return new On(this.value)},t}(Wn),Pn=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.hasValue=!1,t}return r(t,n),t.prototype.fmap=function(n){return this},t}(Mn),Nn=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.isEnd=!0,t}return r(t,n),t.prototype.toString=function(){return"<end>"},t}(Pn),Cn=function(n){function t(t){var r=n.call(this)||this;return r.isError=!0,r.error=t,r}return r(t,n),t.prototype.toString=function(){return"<error> "+P.toString(this.error)},t}(Pn);function Fn(n){return new Tn(n)}function Ln(n){return new On(n)}function Vn(){return new Nn}function qn(n){return n&&n._isEvent?n:Ln(n)}function Un(n){return n&&n._isEvent}function jn(n){return n&&n._isInitial}function Qn(n){return n.isError}function zn(n){return n.hasValue}function Hn(n){return n.isEnd}function Rn(n){return n.isNext}function Yn(n,t){return n===t}function Jn(n,t){void 0===t&&(t=Yn);var r=new bn(n,"skipDuplicates",[]);return Sn(_n(),(function(n,r){return zn(r)?r.isInitial||Bn(n)||!t(n.get(),r.value)?[new In(r.value),[r]]:[n,[]]:[n,[r]]}),n).withDesc(r)}function Xn(n,t,r){return t.transform($n(n),r||new bn(t,"take",[n]))}function $n(n){return function(t,r){return t.hasValue?--n>0?r(t):(0===n&&r(t),r(Vn()),F):r(t)}}function Gn(n,t){t.subscribe((function(t){return"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,n.concat([t.log()])),C}))}function Kn(n){return function(t,r){return"undefined"!==typeof console&&null!==console&&"function"===typeof console.log&&console.log.apply(console,n.concat([t.log()])),r(t)}}function Zn(n){return function(t,r){return Qn(t)&&n(t.error),r(t)}}function nt(n){return function(t,r){return zn(t)&&n(t.value),r(t)}}function tt(n){return function(t,r){return Hn(t)&&n(),r(t)}}function rt(n,t,r){var e,u=t,o=!1,s=function(t){var s=!1,c=i,f=C,a=function(){return s||(s=o=!0,(f=t(new Tn(u)))===F&&(c(),c=i)),f};return c=n.subscribeInternal((function(n){if(zn(n)){if(o&&n.isInitial)return C;n.isInitial||a(),s=o=!0;var e=r(u,n.value);return u=e,t(n.apply(e))}return n.isEnd&&(f=a()),f!==F?t(n):f})),yn.whenDoneWith(e,a),c};return e=new be(new bn(n,"scan",[t,r]),s)}function et(n){var t=P.toFunction(n);return function(n,r){return Hn(n)?(r(Ln(t(n))),r(Vn()),F):r(n)}}function it(n){var t=P.toFunction(n);return function(n,r){return Qn(n)?r(Ln(t(n.error))):r(n)}}function ut(n){return n.transform((function(n,t){return Qn(n)?C:t(n)}),new bn(n,"skipErrors",[]))}function ot(n){var t;return n.transform((function(n,r){return Hn(n)?(t&&r(t),r(Vn()),F):zn(n)?(t=n,C):r(n)})).withDesc(new bn(n,"last",[]))}var st=function(){function n(n){void 0===n&&(n=[]),this.unsubscribed=!1,this.unsubscribe=P.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var t,r=0;r<n.length;r++)t=n[r],this.add(t)}return n.prototype.add=function(n){var t=this;if(!this.unsubscribed){var r=!1,e=i;this.starting.push(n);var u=function(){t.unsubscribed||(r=!0,t.remove(e),P.remove(n,t.starting))};e=n(this.unsubscribe,u),this.unsubscribed||r?e():this.subscriptions.push(e),P.remove(n,this.starting)}},n.prototype.remove=function(n){if(!this.unsubscribed)return void 0!==P.remove(n,this.subscriptions)?n():void 0},n.prototype.unsubscribe=function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var n=this.subscriptions,t=0;t<n.length;t++)n[t]();this.subscriptions=[],this.starting=[]}},n.prototype.count=function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},n.prototype.empty=function(){return 0===this.count()},n}();function ct(n,t){return function(r){var e=!1,u=!1,o=i,s=C,c=function(){if(!e)return n.forEach((function(n){if(e=!0,(s=r(new Tn(n)))===F)return o(),o=i,i}))};return o=t((function(t){return t instanceof Wn?t.isInitial&&!u?(n=new In(t.value),C):(t.isInitial||c(),e=!0,n=new In(t.value),r(t)):(t.isEnd&&(s=c()),s!==F?r(t):s)})),u=!0,c(),o}}function ft(n,t){return U(t),new be(n,ct(_n(),t))}function at(n){var t=new ge(new bn("Bacon","once",[n]),(function(r){return yn.soonButNotYet(t,(function(){r(qn(n)),r(Vn())})),i}));return t}function ht(n,t,r){void 0===r&&(r={});var e=t,i=[e],u=[],o=t._isProperty,s=!1,c=(o?ft:Se)(r.desc||new bn(t,"flatMap_",[n]),(function(t){var i=new st,c=[];function f(r){if(o&&r.isInitial){if(s)return C;s=!0}var e=lt(n(r));return u.push(e),i.add((function(n,r){return e.subscribeInternal((function(i){if(i.isEnd)return P.remove(e,u),a(),h(r),F;i=i.toNext();var o=t(i);return o===F&&n(),o}))}))}function a(){var n=c.shift();n&&f(n)}function h(n){return n(),i.empty()?t(Vn()):C}return i.add((function(n,u){return e.subscribeInternal((function(n){return n.isEnd?h(u):n.isError&&!r.mapError?t(n):r.firstOnly&&i.count()>1?C:i.unsubscribed?F:(r.limit&&i.count()>r.limit?c.push(n):f(n),C)}))})),i.unsubscribe}));return c.internalDeps=function(){return u.length?i.concat(u):i},c}function pt(n){return"function"==typeof n?function(t){return zn(t)?n(t.value):t}:function(t){return n}}function lt(n){return o(n)?n:at(n)}function vt(n,t){return ht(t,n,{mapError:!0,desc:new bn(n,"flatMapEvent",[t])})}function dt(n){return n.transform((function(n,t){return Hn(n)?(t(Ln({})),t(Vn()),F):C}))}function yt(n,t){return void 0===t&&(t=function(n){return!0}),n.transform((function(n,r){return Qn(n)&&t(n.error)?(r(n),r(Vn())):r(n)}),new bn(n,"endOnError",[]))}var bt=function(){function n(n,t){this._isSource=!0,this.flatten=!0,this.ended=!1,this.obs=n,this.sync=t}return n.prototype.subscribe=function(n){return this.obs.subscribeInternal(n)},n.prototype.toString=function(){return this.obs.toString()},n.prototype.markEnded=function(){this.ended=!0},n.prototype.mayHave=function(n){return!0},n}(),wt=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return r(t,n),t.prototype.consume=function(){return this.value},t.prototype.push=function(n){this.value=n},t.prototype.hasAtLeast=function(n){return!!this.value},t}(bt),mt=function(n){function t(t,r){var e=n.call(this,t,r)||this;return e.flatten=!1,e.queue=[],e}return r(t,n),t.prototype.consume=function(){return this.queue.shift()},t.prototype.push=function(n){this.queue.push(n)},t.prototype.mayHave=function(n){return!this.ended||this.queue.length>=n},t.prototype.hasAtLeast=function(n){return this.queue.length>=n},t}(bt),gt=function(n){function t(t){var r=n.call(this,t,!0)||this;return r.queue=[],r}return r(t,n),t.prototype.consume=function(){var n=this.queue;return this.queue=[],{value:n}},t.prototype.push=function(n){return this.queue.push(n.value)},t.prototype.hasAtLeast=function(n){return!0},t}(bt);function Et(n){return null!=n&&(n._isSource?n.sync:n._isEventStream)}function St(n){return null!=n&&n._isSource?n:null!=n&&n._isProperty?new wt(n,!1):new mt(n,!0)}function Dt(){return new ge(wn("Bacon","never"),(function(n){return n(Vn()),i}))}function It(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return _t(Ee,n)}function At(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return _t(ft,n)}function _t(n,t){if(0===t.length)return Dt();var r=kt(Wt(t)),e=r[0],i=r[1];if(!e.length)return Dt();var u=f(e,(function(n){return n.flatten}))&&Ot(_((function(n){return n.obs}),e)),o=n(new bn("Bacon","when",Array.prototype.slice.call(t)),(function(n){var t=[],r=!1;function c(n){for(var t=0;t<n.ixs.length;t++){var r=n.ixs[t];if(!e[r.index].hasAtLeast(r.count))return!1}return!0}function f(n){for(var t=0;t<n.ixs.length;t++){var r=n.ixs[t];if(!e[r.index].mayHave(r.count))return!0}return!1}function a(n){return!n.source.flatten}function h(h){return function(p){function l(){return yn.whenDoneWith(o,y)}function d(){var r;if(void 0!==(r=t.pop()))for(var u,o=C,s=0;s<i.length;s++)if(c(u=i[s])){for(var f=[],h=0;h<u.ixs.length;h++){var p=e[u.ixs[h].index].consume();if(!p)throw new Error("Event was undefined");f.push(p.value)}var l=u.f.apply(null,f);return o=n(r.e.apply(l)),t.length&&(t=v(a,t)),o===F?o:d()}return C}function y(){var t=d();r&&(s(e,Tt)||s(i,f))&&(t=F,n(Vn())),t===F&&p()}return h.subscribe((function(e){var i=C;if(e.isEnd)r=!0,h.markEnded(),l();else if(e.isError)i=n(e);else{var o=e;h.push(o),h.sync&&(t.push({source:h,e:o}),u||yn.hasWaiters()?l():y())}return i===F&&p(),i}))}}return new st(_(h,e)).unsubscribe}));return o}function kt(n){for(var t=[],r=[],e=0;e<n.length;e++){for(var i,u=n[e],o=u[0],s={f:u[1],ixs:[]},c=!1,f=0;f<o.length;f++){i=o[f];var a=S(t,i);c||(c=Et(i)),a<0&&(t.push(i),a=t.length-1);for(var h=0;h<s.ixs.length;h++){var p=s.ixs[h];p.index===a&&p.count++}s.ixs.push({index:a,count:1})}if(o.length>0&&!c)throw new Error("At least one EventStream required, none found in "+o);o.length>0&&r.push(s)}return[_(St,t),r]}function Bt(n){for(var t=0,r=n.length,e=[];t<r;){var i=M(n[t++]),u=W(n[t++]);e.push([i,u])}return L("when: expecting arguments in the form (Observable+,function)+",r%2===0),e}function xt(n){return n instanceof Array&&!o(n[n.length-1])}function Mt(n){return n[0]instanceof Array}function Wt(n){for(var t=[],r=0;r<n.length;r++){var e=n[r];if(!xt(e))return Bt(n);if(Mt(e))t.push([e[0],W(e[1])]);else{var i=e.slice(0,e.length-1),u=W(e[e.length-1]);t.push([i,u])}}return t}function Ot(n,t){function r(n){if(h(t,n))return!0;var e=n.internalDeps();return e.length?(t.push(n),f(e,r)):(t.push(n),!1)}return void 0===t&&(t=[]),f(n,r)}function Tt(n){return!n.sync||n.ended}function Pt(n,t,r){return It([new wt(t.toProperty(),!1),new wt(n,!0),y(r)]).withDesc(new bn(n,"withLatestFrom",[t,r]))}function Nt(n,t,r){return At([new wt(t.toProperty(),!1),new wt(n,!0),y(r)]).withDesc(new bn(n,"withLatestFrom",[t,r]))}function Ct(n,t,r){if(n instanceof be)return Nt(n,t,r);if(n instanceof ge)return Pt(n,t,r);throw new Error("Unknown observable: "+n)}function Ft(n,t){return t instanceof be?Ct(n,t,(function(n,t){return t})):n.transform(Lt(t),new bn(n,"map",[t]))}function Lt(n){var t=P.toFunction(n);return function(n,r){return r(n.fmap(t))}}function Vt(n){return new be(new bn("Bacon","constant",[n]),(function(t){return t(Fn(n)),t(Vn()),i}))}function qt(n){return n=Array.prototype.slice.call(n),P.flatMap(Ut,n)}function Ut(n){return o(n)?[n]:u(n)?qt(n):[Vt(n)]}function jt(n){return P.isFunction(n[0])?[qt(Array.prototype.slice.call(n,1)),n[0]]:[qt(Array.prototype.slice.call(n,0,n.length-1)),P.last(n)]}function Qt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return zt(qt(n))}function zt(n,t){return _t((function(n,r){return new ge(n,r,void 0,t)}),[P.map((function(n){return new gt(n)}),n),function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n}]).withDesc(new bn("Bacon","groupSimultaneous",n))}function Ht(n,t){return zt([n,t],me).map((function(n){return 0===n[1].length})).toProperty(!1).skipDuplicates().withDesc(new bn(n,"awaiting",[t]))}function Rt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if((n=qt(n)).length){for(var r=[],e=0;e<n.length;e++){var i=o(n[e])?n[e]:Vt(n[e]);r.push($t(i))}return At([r,function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n}]).withDesc(new bn("Bacon","combineAsArray",n))}return Vt([])}function Yt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=jt(arguments),i=r[0],u=r[1],o=new bn("Bacon","combineWith",e([u],i));return Rt(i).map((function(n){return u.apply(void 0,n)})).withDesc(o)}var Jt=Yt;function Xt(n,t,r){return At([[$t(n),$t(t)],r]).withDesc(new bn(n,"combine",[t,r]))}function $t(n){return new wt(n,!0)}function Gt(n,t){return n.transform((function(n,r){return n.hasValue&&t>0?(t--,C):r(n)}),new bn(n,"skip",[t]))}function Kt(n,t){return ht(pt(t),n,{desc:new bn(n,"flatMapConcat",[t]),limit:1})}function Zt(n,t){void 0===t&&(t=P.id);var r=new bn("Bacon","fromBinder",[n,t]);return new ge(r,(function(r){var e=!1,i=!1,o=function(){if(!e)return"undefined"!==typeof s&&null!==s?(s(),e=!0):i=!0},s=n((function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var i=t.apply(void 0,n),s=u(i)&&Un(P.last(i))?i:[i],c=C,f=0;f<s.length;f++){var a=qn(s[f]);if((c=r(a))===F||a.isEnd)return o(),c}return c}));return i&&o(),o}))}function nr(n,t){var r=new bn("Bacon","fromPoll",[n,t]);return Zt((function(t){var r=z.scheduler.setInterval(t,n);return function(){return z.scheduler.clearInterval(r)}}),t).withDesc(r)}function tr(n,t){return nr(n,(function(){return Ln(t)})).withDesc(new bn("Bacon","interval",[n,t]))}function rr(n){return"function"==typeof n?n:P.id}function er(n,t,r){return n instanceof ge?ur(n,t,r):ir(n,t,r)}function ir(n,t,r){return Ct(t,n,y(rr(r))).withDesc(new bn(n,"sampledBy",[t]))}function ur(n,t,r){return ir(n.toProperty(),t,r).withDesc(new bn(n,"sampledBy",[t]))}function or(n,t){return ir(n,tr(t,{}),(function(n,t){return n})).withDesc(new bn(n,"sample",[t]))}function sr(n,t,r){return new be(new bn(n,"transform",[t]),(function(r){return n.subscribeInternal((function(n){return t(n,r)}))})).withDesc(r)}function cr(n,t,r){return new ge(new bn(n,"transform",[t]),(function(r){return n.subscribeInternal((function(n){return t(n,r)}))}),void 0,me).withDesc(r)}function fr(n,t){var r,e=function(n){return t(n,r)};return function(t,i){return r=i,n(t,e)}}function ar(n){if("boolean"==typeof n)return P.always(n);if("function"!=typeof n)throw new Error("Not a function: "+n);return n}function hr(n,t,r,e){return t instanceof be?Ct(n,t,(function(n,t){return[n,t]})).transform(fr(r((function(n){return n[1]})),Lt((function(n){return n[0]}))),e):n.transform(r(ar(t)),e)}function pr(n,t){return hr(n,t,lr,new bn(n,"filter",[t]))}function lr(n){return function(t,r){return t.filter(n)?r(t):C}}function vr(n){return n.map((function(n){return!n})).withDesc(new bn(n,"not",[]))}function dr(n,t){return n.combine(br(t),(function(n,t){return!(!n||!t)})).withDesc(new bn(n,"and",[t]))}function yr(n,t){return n.combine(br(t),(function(n,t){return n||t})).withDesc(new bn(n,"or",[t]))}function br(n){return we(n)?n:Vt(n)}function wr(n,t){return ht(pt(t),n,{firstOnly:!0,desc:new bn(n,"flatMapFirst",[t])})}function mr(n,t,r){return new ge(new bn(n,"concat",[t]),(function(r){var e=i,u=n.dispatcher.subscribe((function(n){return n.isEnd?(e=t.toEventStream().dispatcher.subscribe(r),C):r(n)}));return function(){return u(),e()}}),void 0,r)}function gr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=qt(n);return(r.length?b(x(r),w(r).toEventStream(),(function(n,t){return n.concat(t)})):Dt()).withDesc(new bn("Bacon","concatAll",r))}function Er(n,t,r){var e,i,u=t(new ge(wn(n,"changes",[]),(function(t){return n.dispatcher.subscribe((function(n){return!e&&jn(n)&&(e=n,yn.whenDoneWith(o,(function(){if(!i)throw new Error("Init sequence fail");i(e)}))),n.isInitial?C:t(n)}))}),void 0,me)),o=ft(r,(function(n){return i=n,u.dispatcher.subscribe((function(t){n(t)}))}));return o}function Sr(n,t,r){return n.scan(t,r).last().withDesc(new bn(n,"fold",[t,r]))}function Dr(n,t){return at(t).concat(n).withDesc(new bn(n,"startWith",[t]))}function Ir(n,t){return n.scan(t,(function(n,t){return t})).withDesc(new bn(n,"startWith",[t]))}var Ar={};function _r(n,t){var r=zt([n.mapEnd(Ar),t.skipErrors()],me);return n instanceof be&&(r=r.toProperty()),r.transform((function(n,t){if(zn(n)){var r=n.value,e=r[0];if(r[1].length)return t(Vn());for(var i=C,u=0;u<e.length;u++){var o=e[u];if(o===Ar)return t(Vn());i=t(Ln(o))}return i}return t(n)}),new bn(n,"takeUntil",[t]))}function kr(n,t){return ht(pt(t),n,{desc:new bn(n,"flatMap",[t])})}function Br(n,t){return ht((function(n){if(n instanceof Cn){var r=n.error;return t(r)}return n}),n,{mapError:!0,desc:new bn(n,"flatMapError",[t])})}var xr=[],Mr=!1;function Wr(n){if(xr.length&&!Mr)try{Mr=!0,xr.forEach((function(t){t(n)}))}finally{Mr=!1}}var Or=function(n){return xr.push(n)};function Tr(n,t){var r=P.toFunction(t),e=we(n)?n.toEventStream(me):n,i=kr(e,(function(n){return lt(r(n)).takeUntil(e)}));return we(n)&&(i=i.toProperty()),i.withDesc(new bn(n,"flatMapLatest",[r]))}var Pr=function(){function n(n,t,r){this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this._subscribe=t,this._handleEvent=r,this.subscribe=P.bind(this.subscribe,this),this.handleEvent=P.bind(this.handleEvent,this),this.subscriptions=[],this.observable=n,this.queue=[]}return n.prototype.hasSubscribers=function(){return this.subscriptions.length>0},n.prototype.removeSub=function(n){return this.subscriptions=P.without(n,this.subscriptions),this.subscriptions},n.prototype.push=function(n){return n.isEnd&&(this.ended=!0),yn.inTransaction(n,this,this.pushIt,[n])},n.prototype.pushToSubscriptions=function(n){try{for(var t=this.subscriptions,r=t.length,e=0;e<r;e++){var i=t[e];(i.sink(n)===F||n.isEnd)&&this.removeSub(i)}return!0}catch(u){throw this.pushing=!1,this.queue=[],u}},n.prototype.pushIt=function(n){if(this.pushing)return this.queue.push(n),C;if(n!==this.prevError){for(n.isError&&(this.prevError=n),this.pushing=!0,this.pushToSubscriptions(n),this.pushing=!1;;){var t=this.queue.shift();if(!t)break;this.push(t)}return this.hasSubscribers()?C:(this.unsubscribeFromSource(),F)}},n.prototype.handleEvent=function(n){return this._handleEvent?this._handleEvent(n):this.push(n)},n.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},n.prototype.subscribe=function(n){var t=this;if(this.ended)return n(Vn()),i;U(n);var r={sink:n};return this.subscriptions.push(r),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),U(this.unsubSrc)),function(){if(t.removeSub(r),!t.hasSubscribers())return t.unsubscribeFromSource()}},n.prototype.inspect=function(){return this.observable.toString()},n}(),Nr=function(n){function t(t,r,e){var i=n.call(this,t,r,e)||this;return i.current=_n(),i.propertyEnded=!1,i.subscribe=P.bind(i.subscribe,i),i}return r(t,n),t.prototype.push=function(t){return t.isEnd&&(this.propertyEnded=!0),t instanceof Wn?(this.current=new In(t),this.currentValueRootId=yn.currentEventId()):t.hasValue&&console.error("Unknown event, two Bacons loaded?",t.constructor),n.prototype.push.call(this,t)},t.prototype.maybeSubSource=function(t,r){return r===F?i:this.propertyEnded?(t(Vn()),i):n.prototype.subscribe.call(this,t)},t.prototype.subscribe=function(n){var t=this,r=C;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var e=yn.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&e&&e!==i?(yn.whenDoneWith(this.observable,(function(){if(t.currentValueRootId===i)return n(Fn(t.current.get().value))})),this.maybeSubSource(n,r)):(yn.inTransaction(void 0,this,(function(){return r=n(Fn(t.current.get().value))}),[]),this.maybeSubSource(n,r))}return this.maybeSubSource(n,r)},t.prototype.inspect=function(){return this.observable+" current= "+this.current},t}(Pr);function Cr(n,t,r){return ht(pt(r),n,{desc:new bn(n,"flatMapWithConcurrencyLimit",[t,r]),limit:t})}function Fr(n,t){return Vr(n,t,Number.MAX_VALUE).withDesc(new bn(n,"bufferWithTime",[t]))}function Lr(n,t){return Vr(n,void 0,t).withDesc(new bn(n,"bufferWithCount",[t]))}function Vr(n,t,r){var e=Ur(t);function i(n){return n.values.length===r?n.flush():void 0!==e?n.schedule(e):void 0}var u=new bn(n,"bufferWithTimeOrCount",[t,r]);return jr(n,i,i).withDesc(u)}var qr=function(){function n(n,t){this.push=function(n){return C},this.scheduled=null,this.end=void 0,this.values=[],this.onFlush=n,this.onInput=t}return n.prototype.flush=function(){if(this.scheduled&&(z.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var n=this.values;this.values=[];var t=this.push(Ln(n));if(null!=this.end)return this.push(this.end);if(t!==F)return this.onFlush(this)}else if(null!=this.end)return this.push(this.end)},n.prototype.schedule=function(n){var t=this;if(!this.scheduled)return this.scheduled=n((function(){return t.flush()}))},n}();function Ur(n){if(void 0!==n){if("number"===typeof n){var t=n;return function(n){return z.scheduler.setTimeout(n,t)}}return n}}function jr(n,t,r){void 0===t&&(t=i),void 0===r&&(r=i);var e=C,u=new qr(r,t);return n.transform((function(n,r){return u.push=r,zn(n)?(u.values.push(n.value),t(u)):Qn(n)?e=r(n):Hn(n)&&(u.end=n,u.scheduled||u.flush()),e})).withDesc(new bn(n,"buffer",[]))}function Qr(n,t){var r=!1;return function(e){var i,u=yn.isInTransaction();function o(){var n=i||[];i=void 0;for(var t=0;t<n.length;t++){var r=n[t];e(r)}}r=!0;try{return t((function(t){return r||i?(i?i.push(t):(i=[t],u?yn.soonButNotYet(n,o):z.scheduler.setTimeout(o,0)),C):e(t)}))}finally{r=!1}}}function zr(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var r=qt(n);return r.length?new ge(new bn("Bacon","mergeAll",r),(function(n){var t=0,e=_((function(e){return function(i){return e.subscribeInternal((function(e){if(e.isEnd)return++t===r.length?n(Vn()):C;e=e.toNext();var u=n(e);return u===F&&i(),u}))}}),r);return new st(e).unsubscribe})):Dt()}function Hr(n,t){return Zt((function(r){var e=function(){return r([qn(t),Vn()])},i=z.scheduler.setTimeout(e,n);return function(){return z.scheduler.clearTimeout(i)}})).withDesc(new bn("Bacon","later",[n,t]))}function Rr(n,t){return n.transformChanges(new bn(n,"delay",[t]),(function(n){return n.flatMap((function(n){return Hr(t,n)}))}))}function Yr(n,t){return n.transformChanges(new bn(n,"debounce",[t]),(function(n){return n.flatMapLatest((function(n){return Hr(t,n)}))}))}function Jr(n,t){return n.transformChanges(new bn(n,"debounceImmediate",[t]),(function(n){return n.flatMapFirst((function(n){return at(n).concat(Hr(t,n).errors())}))}))}function Xr(n,t){return n.transformChanges(new bn(n,"throttle",[t]),(function(n){return n.bufferWithTime(t).map((function(n){return n[n.length-1]}))}))}function $r(n,t){var r=new bn(n,"bufferingThrottle",[t]);return n.transformChanges(r,(function(n){return n.flatMapConcat((function(n){return at(n).concat(Hr(t,n).errors())}))}))}function Gr(n,t){return hr(n,t,Kr,new bn(n,"takeWhile",[t]))}function Kr(n){return function(t,r){return t.filter(n)?r(t):(r(Vn()),F)}}function Zr(n,t){var r=t.transform(fr($n(1),Lt(!0))).toProperty().startWith(!1);return n.filter(r).withDesc(new bn(n,"skipUntil",[t]))}function ne(n,t){return hr(n,t,te,new bn(n,"skipWhile",[t]))}function te(n){var t=!1;return function(r,e){return!t&&zn(r)&&n(r.value)?C:(r.hasValue&&(t=!0),e(r))}}function re(n,t,r){void 0===r&&(r=P.id);var e={};return n.transform(fr(lr((function(n){return!e[t(n)]})),Lt((function(i){var u=t(i),o=n.changes().filter((function(n){return t(n)===u})),s=at(i).concat(o),c=r(s,i).toEventStream().transform((function(n,t){var r=t(n);return n.isEnd&&delete e[u],r}));return e[u]=c,c}))))}function ee(n,t,r){return void 0===r&&(r=0),n.scan([],(function(n,r){return n.concat([r]).slice(-t)})).filter((function(n){return n.length>=r})).withDesc(new bn(n,"slidingWindow",[t,r]))}var ie={};function ue(n,t,r){return sr(rt(n,[t,ie],(function(n,t){return[t,r(n[0],t)]})),fr(lr((function(n){return n[1]!==ie})),Lt((function(n){return n[1]}))),new bn(n,"diff",[t,r]))}function oe(n,t,r){var e=t;return n.flatMapConcat((function(n){return lt(r(e,n)).doAction((function(n){return e=n}))})).toProperty().startWith(t).withDesc(new bn(n,"flatScan",[t,r]))}function se(n,t){var r=!1,e=[],i=!1;return new ge(new bn(n,"holdWhen",[t]),(function(u){var o=new st,s=!1,c=function(n){return n&&n(),o.empty()&&s?u(Vn()):C};return o.add((function(n,o){return t.subscribeInternal((function(n){if(zn(n)){r=n.value;var t=C;if(!r){var s=e;e=[];for(var f=0;f<s.length;f++)t=u(Ln(s[f]));i&&(u(Vn()),o(),t=F)}return t}return n.isEnd?c(o):u(n)}))})),o.add((function(t,o){return n.subscribeInternal((function(n){return r&&zn(n)?(e.push(n.value),C):n.isEnd&&e.length?(i=!0,c(o)):u(n)}))})),s=!0,c(),o.unsubscribe}))}function ce(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return It([P.map((function(n){return n.toEventStream()}),qt(n)),function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return n}]).withDesc(new bn("Bacon","zipAsArray",n))}function fe(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var e=jt(arguments);return t=e[0],n=e[1],It([t=P.map((function(n){return n.toEventStream()}),t),n]).withDesc(new bn("Bacon","zipWith",[n].concat(t)))}function ae(n,t,r){return fe(r||Array,n,t).withDesc(new bn(n,"zip",[t]))}function he(n){function t(n){return n[n.length-1]}function r(n,r,e){return t(n)[r]=e,e}function e(n,t){return function(e,i){r(e,n,i[t])}}function i(n,t){return function(e){r(e,n,t)}}function s(n){return u(n)?[]:{}}function c(n,t){return function(e){var i=s(t);r(e,n,i),e.push(i)}}function f(n){if(o(n))return!0;if(n&&(n.constructor==Object||n.constructor==Array))for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&f(n[t]))return!0}function a(n,t){if(o(t))v.push(t),l.push(e(n,v.length-1));else if(f(t)){var r=function(n){n.pop()};l.push(c(n,t)),p(t),l.push(r)}else l.push(i(n,t))}function h(t){for(var r=s(n),e=[r],i=0;i<l.length;i++)(0,l[i])(e,t);return r}function p(n){P.each(n,a)}var l=[],v=[];return(f(n)?(p(n),Rt(v).map(h)):Vt(n)).withDesc(new bn("Bacon","combineTemplate",[n]))}function pe(n,t){return n.combine(he(t),(function(n,t){return t[n]})).withDesc(new bn(n,"decode",[t]))}function le(n,t){var r=function(t,r){return n.subscribe((function(n){return zn(n)&&t(n.value),Qn(n)&&r(n.error),F}))};if("function"===typeof t)return new t(r);if("function"===typeof Promise)return new Promise(r);throw new Error("There isn't default Promise, use shim or parameter")}function ve(n,t){return n.last().firstToPromise(t)}var de=0,ye=function(){function n(n){this.id=++de,this._isObservable=!0,this.desc=n,this.initialDesc=n}return n.prototype.awaiting=function(n){return Ht(this,n)},n.prototype.bufferingThrottle=function(n){return $r(this,n)},n.prototype.combine=function(n,t){return Xt(this,n,t).withDesc(new bn(this,"combine",[n,t]))},n.prototype.debounce=function(n){return Yr(this,n)},n.prototype.debounceImmediate=function(n){return Jr(this,n)},n.prototype.decode=function(n){return pe(this,n)},n.prototype.delay=function(n){return Rr(this,n)},n.prototype.deps=function(){return this.desc.deps()},n.prototype.diff=function(n,t){return ue(this,n,t)},n.prototype.doAction=function(n){return this.transform(nt(n),new bn(this,"doAction",[n]))},n.prototype.doEnd=function(n){return this.transform(tt(n),new bn(this,"doEnd",[n]))},n.prototype.doError=function(n){return this.transform(Zn(n),new bn(this,"doError",[n]))},n.prototype.doLog=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return this.transform(Kn(n),new bn(this,"doLog",n))},n.prototype.endAsValue=function(){return dt(this)},n.prototype.endOnError=function(n){return void 0===n&&(n=function(n){return!0}),yt(this,n)},n.prototype.errors=function(){return this.filter((function(n){return!1})).withDesc(new bn(this,"errors"))},n.prototype.filter=function(n){return pr(this,n)},n.prototype.first=function(){return Xn(1,this,new bn(this,"first"))},n.prototype.firstToPromise=function(n){return le(this,n)},n.prototype.fold=function(n,t){return Sr(this,n,t)},n.prototype.forEach=function(n){return void 0===n&&(n=gn),this.onValue(n)},n.prototype.holdWhen=function(n){return se(this,n)},n.prototype.inspect=function(){return this.toString()},n.prototype.internalDeps=function(){return this.initialDesc.deps()},n.prototype.last=function(){return ot(this)},n.prototype.log=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Gn(n,this),this},n.prototype.mapEnd=function(n){return this.transform(et(n),new bn(this,"mapEnd",[n]))},n.prototype.mapError=function(n){return this.transform(it(n),new bn(this,"mapError",[n]))},n.prototype.name=function(n){return this._name=n,this},n.prototype.onEnd=function(n){return void 0===n&&(n=En),this.subscribe((function(t){return t.isEnd?n():C}))},n.prototype.onError=function(n){return void 0===n&&(n=gn),this.subscribe((function(t){return Qn(t)?n(t.error):C}))},n.prototype.onValue=function(n){return void 0===n&&(n=gn),this.subscribe((function(t){return zn(t)?n(t.value):C}))},n.prototype.onValues=function(n){return this.onValue((function(t){return n.apply(void 0,t)}))},n.prototype.reduce=function(n,t){return Sr(this,n,t)},n.prototype.sampledBy=function(n){return er(this,n,arguments[1])},n.prototype.scan=function(n,t){return rt(this,n,t)},n.prototype.skip=function(n){return Gt(this,n)},n.prototype.skipDuplicates=function(n){return Jn(this,n)},n.prototype.skipErrors=function(){return ut(this)},n.prototype.skipUntil=function(n){return Zr(this,n)},n.prototype.skipWhile=function(n){return ne(this,n)},n.prototype.slidingWindow=function(n,t){return void 0===t&&(t=0),ee(this,n,t)},n.prototype.subscribe=function(n){var t=this;return void 0===n&&(n=gn),yn.wrappedSubscribe(this,(function(n){return t.subscribeInternal(n)}),n)},n.prototype.take=function(n){return Xn(n,this)},n.prototype.takeUntil=function(n){return _r(this,n)},n.prototype.takeWhile=function(n){return Gr(this,n)},n.prototype.throttle=function(n){return Xr(this,n)},n.prototype.toPromise=function(n){return ve(this,n)},n.prototype.toString=function(){return this._name?this._name:this.desc.toString()},n.prototype.withDesc=function(n){return n&&(this.desc=n),this},n.prototype.withDescription=function(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this.desc=wn.apply(void 0,e([n,t],r)),this},n.prototype.zip=function(n,t){return ae(this,n,t)},n}(),be=function(n){function t(t,r,e){var i=n.call(this,t)||this;return i._isProperty=!0,U(r),i.dispatcher=new Nr(i,r,e),Wr(i),i}return r(t,n),t.prototype.and=function(n){return dr(this,n)},t.prototype.changes=function(){var n=this;return new ge(new bn(this,"changes",[]),(function(t){return n.dispatcher.subscribe((function(n){return n.isInitial?C:t(n)}))}))},t.prototype.concat=function(n){return this.transformChanges(wn(this,"concat",n),(function(t){return t.concat(n)}))},t.prototype.transformChanges=function(n,t){return Er(this,t,n)},t.prototype.flatMap=function(n){return kr(this,n)},t.prototype.flatMapConcat=function(n){return Kt(this,n)},t.prototype.flatMapError=function(n){return Br(this,n)},t.prototype.flatMapEvent=function(n){return vt(this,n)},t.prototype.flatMapFirst=function(n){return wr(this,n)},t.prototype.flatMapLatest=function(n){return Tr(this,n)},t.prototype.flatMapWithConcurrencyLimit=function(n,t){return Cr(this,n,t)},t.prototype.groupBy=function(n,t){return re(this,n,t)},t.prototype.map=function(n){return Ft(this,n)},t.prototype.not=function(){return vr(this)},t.prototype.or=function(n){return yr(this,n)},t.prototype.sample=function(n){return or(this,n)},t.prototype.startWith=function(n){return Ir(this,n)},t.prototype.subscribeInternal=function(n){return void 0===n&&(n=gn),this.dispatcher.subscribe(n)},t.prototype.toEventStream=function(n){var t=this;return new ge(new bn(this,"toEventStream",[]),(function(n){return t.subscribeInternal((function(t){return n(t.toNext())}))}),void 0,n)},t.prototype.toProperty=function(){return Q(arguments),this},t.prototype.transform=function(n,t){return sr(this,n,t)},t.prototype.withLatestFrom=function(n,t){return Nt(this,n,t)},t.prototype.withStateMachine=function(n,t){return Sn(n,t,this)},t}(ye);function we(n){return!!n._isProperty}var me={forceAsync:!1},ge=function(n){function t(t,r,e,i){var u=n.call(this,t)||this;return u._isEventStream=!0,i!==me&&(r=Qr(u,r)),u.dispatcher=new Pr(u,r,e),Wr(u),u}return r(t,n),t.prototype.bufferWithTime=function(n){return Fr(this,n)},t.prototype.bufferWithCount=function(n){return Lr(this,n)},t.prototype.bufferWithTimeOrCount=function(n,t){return Vr(this,n,t)},t.prototype.changes=function(){return this},t.prototype.concat=function(n,t){return mr(this,n,t)},t.prototype.transformChanges=function(n,t){return t(this).withDesc(n)},t.prototype.flatMap=function(n){return kr(this,n)},t.prototype.flatMapConcat=function(n){return Kt(this,n)},t.prototype.flatMapError=function(n){return Br(this,n)},t.prototype.flatMapFirst=function(n){return wr(this,n)},t.prototype.flatMapLatest=function(n){return Tr(this,n)},t.prototype.flatMapWithConcurrencyLimit=function(n,t){return Cr(this,n,t)},t.prototype.flatMapEvent=function(n){return vt(this,n)},t.prototype.flatScan=function(n,t){return oe(this,n,t)},t.prototype.groupBy=function(n,t){return re(this,n,t)},t.prototype.map=function(n){return Ft(this,n)},t.prototype.merge=function(n){return V(n),zr(this,n).withDesc(new bn(this,"merge",[n]))},t.prototype.not=function(){return vr(this)},t.prototype.startWith=function(n){return Dr(this,n)},t.prototype.subscribeInternal=function(n){return void 0===n&&(n=gn),this.dispatcher.subscribe(n)},t.prototype.toEventStream=function(){return this},t.prototype.toProperty=function(n){var t=arguments.length?kn(n):_n(),r=this.dispatcher,e=new bn(this,"toProperty",Array.prototype.slice.apply(arguments)),i=r.subscribe;return new be(e,ct(t,i))},t.prototype.transform=function(n,t){return cr(this,n,t)},t.prototype.withLatestFrom=function(n,t){return Pt(this,n,t)},t.prototype.withStateMachine=function(n,t){return Sn(n,t,this)},t}(ye);function Ee(n,t){return new ge(n,t)}function Se(n,t){return new ge(n,t,void 0,me)}function De(n){return"undefined"!==typeof Symbol&&Symbol[n]?Symbol[n]:"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol[n]=Symbol.for(n):"@@"+n}var Ie=function(){function n(n){this.observable=n}return n.prototype.subscribe=function(n,t,r){var e="function"===typeof n?{next:n,error:t,complete:r}:n,i={closed:!1,unsubscribe:function(){i.closed=!0,u()}},u=this.observable.subscribe((function(n){zn(n)&&e.next?e.next(n.value):Qn(n)?(e.error&&e.error(n.error),i.unsubscribe()):n.isEnd&&(i.closed=!0,e.complete&&e.complete())}));return i},n}();function Ae(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var i=Wt(t),u=0;u<i.length;u++){var o=i[u];o[1]=_e(o[1])}return It.apply(void 0,i).scan(n,(function(n,t){return t(n)})).withDesc(new bn("Bacon","update",e([n],t)))}function _e(n){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return function(r){return n.apply(void 0,[r].concat(t))}}}function ke(n){if(j(n),n.length){var t=0,r=new ge(new bn("Bacon","fromArray",[n]),(function(e){var i=!1,u=C,o=!1,s=!1;function c(){if(s=!0,!o){if(t===n.length)return e(Vn()),!1;for(o=!0;s;)if(s=!1,u!==F&&!i){var f=n[t++];(u=e(qn(f)))!==F&&(t===n.length?e(Vn()):yn.afterTransaction(r,c))}return o=!1}}return yn.soonButNotYet(r,c),function(){return i=!0}}));return r}return Dt().withDesc(new bn("Bacon","fromArray",n))}function Be(n){return P.isFunction(n)}Ie.prototype[De("observable")]=function(){return this},ye.prototype.toESObservable=function(){return new Ie(this)},ye.prototype[De("observable")]=ye.prototype.toESObservable;var xe=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],Me=function(n){for(var t,r=0;r<xe.length;r++){var e=[n[(t=xe[r])[0]],n[t[1]]];if(e[0]&&e[1])return e}for(var i=0;i<xe.length;i++){var u=n[(t=xe[i])[0]];if(u)return[u,function(){}]}throw new Error("No suitable event methods in "+n)};function We(n,t,r){var e=Me(n),i=e[0],u=e[1],o=new bn("Bacon","fromEvent",[n,t]);return Zt((function(r){return Be(t)?(t(i.bind(n),r),function(){return t(u.bind(n),r)}):(i.call(n,t,r),function(){return u.call(n,t,r)})}),r).withDesc(o)}function Oe(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return Rt(n.slice(0,n.length-1)).onValues(n[arguments.length-1])}function Te(n){var t=0;return Zt((function(r){var e=!1,i=C,u=function(){};function o(n){return n.isEnd?(e?s():e=!0,C):i=r(n)}function s(){var s;for(e=!0;e&&i!==F;)s=n(t++),e=!1,s?u=s.subscribeInternal(o):r(Vn());e=!0}return s(),function(){return u()}})).withDesc(new bn("Bacon","repeat",[n]))}function Pe(n,t){var r=0;return nr(n,(function(){return t[r++%t.length]})).withDesc(new bn("Bacon","repeatedly",[n,t]))}function Ne(n){return Hr(n,"").filter(!1).withDesc(new bn("Bacon","silence",[n]))}function Ce(n){if(!P.isFunction(n.source))throw new Error("'source' option has to be a function");var t=n.source,r=n.retries||0,e=0,i=n.delay||function(){return 0},u=n.isRetryable||function(){return!0},o=!1,s=null;return Te((function(n){function c(){return t(n).endOnError().transform((function(n,t){return Qn(n)?u((s=n).error)&&(0===r||e<r)?C:(o=!0,t(n)):(zn(n)&&(s=null,o=!0),t(n))}))}if(!o){if(s){var f={error:s.error,retriesDone:e},a=Ne(i(f));return e++,a.concat(at(null).flatMap(c))}return c()}})).withDesc(new bn("Bacon","retry",[n]))}function Fe(n,t){var r=0;return nr(n,(function(){var n=t[r++];return r<t.length?n:r===t.length?[qn(n),Vn()]:Vn()})).withDesc(new bn("Bacon","sequentially",[n,t]))}function Le(n){return[qn(n),Vn()]}function Ve(n,t,r){return void 0===r&&(r=Le),Zt((function(r){var e=n.then(r,(function(n){return r(new Cn(n))}));return e&&"function"===typeof e.done&&e.done(),t?function(){if("function"===typeof n.abort)return n.abort()}:function(){}}),r).withDesc(new bn("Bacon","fromPromise",[n]))}function qe(n){return function(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if("object"===typeof t&&r.length){var u=t,o=r[0];t=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return u[o].apply(u,n)},r=r.slice(1)}return n.apply(void 0,e([t],r))}}function Ue(n,t){return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return n.apply(void 0,t.concat(r))}}var je=qe((function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return P.isFunction(n)?t.length?Ue(n,t):n:P.always(n)}));function Qe(n,t){return je.apply(void 0,e([n],t))}function ze(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Zt((function(r){return Qe(n,t)(r),i}),(function(n){return[n,Vn()]})).withDesc(new bn("Bacon","fromCallback",e([n],t)))}function He(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Zt((function(r){return Qe(n,t)(r),i}),(function(n,t){return n?[new Cn(n),Vn()]:[t,Vn()]})).withDesc(new bn("Bacon","fromNodeCallback",e([n],t)))}function Re(n){var t;t=n[De("observable")]?n[De("observable")]():n;var r=new bn("Bacon","fromESObservable",[t]);return new ge(r,(function(n){var r=t.subscribe({error:function(t){n(new Cn(t)),n(new Nn)},next:function(t){n(new On(t))},complete:function(){n(new Nn)}});return r.unsubscribe?function(){r.unsubscribe()}:r}))}var Ye=function(n){function t(){var t=n.call(this,new bn("Bacon","Bus",[]),(function(n){return t.subscribeAll(n)}))||this;return t.pushing=!1,t.pushQueue=void 0,t.ended=!1,t.subscriptions=[],t.unsubAll=P.bind(t.unsubAll,t),t.push=P.bind(t.push,t),t.subscriptions=[],t.ended=!1,t}return r(t,n),t.prototype.plug=function(n){var t=this;if(q(n),!this.ended){var r={input:n,unsub:void 0};return this.subscriptions.push(r),"undefined"!==typeof this.sink&&this.subscribeInput(r),function(){return t.unsubscribeInput(n)}}},t.prototype.end=function(){if(this.ended=!0,this.unsubAll(),"function"===typeof this.sink)return this.sink(Vn())},t.prototype.push=function(n){if(!this.ended&&"function"===typeof this.sink){var t=!this.pushing;if(!t)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(n);this.pushing=!0;try{return this.sink(Ln(n))}finally{if(t&&this.pushQueue){for(var r=0;r<this.pushQueue.length;){var e=this.pushQueue[r];this.sink(Ln(e)),r++}this.pushQueue=void 0}this.pushing=!1}}},t.prototype.error=function(n){if("function"===typeof this.sink)return this.sink(new Cn(n))},t.prototype.unsubAll=function(){for(var n,t=this.subscriptions,r=0;r<t.length;r++)"function"===typeof(n=t[r]).unsub&&n.unsub()},t.prototype.subscribeAll=function(n){if(this.ended)n(Vn());else{this.sink=n;for(var t,r=this.subscriptions.slice(),e=0;e<r.length;e++)t=r[e],this.subscribeInput(t)}return this.unsubAll},t.prototype.guardedSink=function(n){var t=this;return function(r){return r.isEnd?(t.unsubscribeInput(n),F):t.sink?t.sink(r):C}},t.prototype.subscribeInput=function(n){return n.unsub=n.input.subscribeInternal(this.guardedSink(n.input)),n.unsub},t.prototype.unsubscribeInput=function(n){for(var t,r=this.subscriptions,e=0;e<r.length;e++)if((t=r[e]).input===n)return"function"===typeof t.unsub&&t.unsub(),void this.subscriptions.splice(e,1)},t}(ge);function Je(n){return function(t){try{return at(n(t))}catch(r){return at(new Cn(r))}}}var Xe={asEventStream:function(n,t,r){var e=this;return P.isFunction(t)&&(r=t,t=void 0),Zt((function(r){return e.on(n,t,r),function(){return e.off(n,t,r)}}),r).withDesc(new bn(this.selector||this,"asEventStream",[n]))},init:function(n){n.fn.asEventStream=Xe.asEventStream}},$e="3.0.16";n.$=Xe,n.Bus=Ye,n.CompositeUnsubscribe=st,n.Desc=bn,n.End=Nn,n.Error=Cn,n.Event=Mn,n.EventStream=ge,n.Initial=Tn,n.Next=On,n.Observable=ye,n.Property=be,n.Value=Wn,n._=P,n.combine=Jt,n.combineAsArray=Rt,n.combineTemplate=he,n.combineTwo=Xt,n.combineWith=Yt,n.concatAll=gr,n.constant=Vt,n.fromArray=ke,n.fromBinder=Zt,n.fromCallback=ze,n.fromESObservable=Re,n.fromEvent=We,n.fromEventTarget=We,n.fromNodeCallback=He,n.fromPoll=nr,n.fromPromise=Ve,n.getScheduler=H,n.groupSimultaneous=Qt,n.hasValue=zn,n.interval=tr,n.isEnd=Hn,n.isError=Qn,n.isEvent=Un,n.isInitial=jn,n.isNext=Rn,n.later=Hr,n.mergeAll=zr,n.more=C,n.never=Dt,n.noMore=F,n.nullSink=gn,n.nullVoidSink=En,n.onValues=Oe,n.once=at,n.repeat=Te,n.repeatedly=Pe,n.retry=Ce,n.sequentially=Fe,n.setScheduler=R,n.silence=Ne,n.spy=Or,n.try=Je,n.update=Ae,n.version=$e,n.when=It,n.zipAsArray=ce,n.zipWith=fe,Object.defineProperty(n,"__esModule",{value:!0})}(t)}}]);
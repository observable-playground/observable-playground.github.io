{"version":3,"sources":["webpack:////Users/kos/playground/react-static-test/src/Playground/PlaygroundWrapper.js","webpack:////Users/kos/playground/react-static-test/src/mock-delayed-execution/index.js","webpack:////Users/kos/playground/react-static-test/src/mock-delayed-execution/mock-delayed-execution.js","webpack:////Users/kos/playground/react-static-test/src/Playground/components/Editor/EditorComponent.js","webpack:////Users/kos/playground/react-static-test/src/Playground/components/Error/ErrorComponent.js","webpack:////Users/kos/playground/react-static-test/src/Playground/components/TimeLineChart/TimeLineChartComponent.js","webpack:////Users/kos/playground/react-static-test/src/playground-api/state.js","webpack:////Users/kos/playground/react-static-test/src/playground-api/chart-state-proxy.js","webpack:////Users/kos/playground/react-static-test/src/playground-api/rp-api.js","webpack:////Users/kos/playground/react-static-test/src/playground-api/chart.js","webpack:////Users/kos/playground/react-static-test/src/playground-api/line.js","webpack:////Users/kos/playground/react-static-test/src/playground-api/colors.js","webpack:////Users/kos/playground/react-static-test/src/playground-api/require.js","webpack:////Users/kos/playground/react-static-test/src/Playground/Playground.js"],"names":["__webpack_require__","d","__webpack_exports__","PlaygroundWrapper","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","props","document","a","createElement","code","Playground","require","module","exports","glob","window","global","originals","Object","create","mocks","isMockMode","overridies","filter","key","undefined","forEach","MockSub","mock","original","fn","_len","arguments","length","args","Array","_key","this","_construct","apply","Date","now","execute","time","maxLifetime","_Date","_len2","_key2","id","status","tasks","getId","createTask","timeout","registeredAt","addTask","task","push","clearTask","x","setInterval","cb","_len3","_key3","clearInterval","setTimeout","_len4","_key4","clearTimeout","requestAnimationFrame","Error","cancelAnimationFrame","concat","nextTask","sort","b","shift","flush","EditorComponent","_Component","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","_inherits","Component","value","height","viewHeight","react_default","lib_default","className","name","mode","theme","defaultValue","width","showGutter","tabSize","wrapEnabled","setOptions","showFoldWidgets","editorProps","$blockScrolling","debounceChangePeriod","onChange","ErrorComponent","ErrorComponent_classCallCheck","ErrorComponent_possibleConstructorReturn","ErrorComponent_getPrototypeOf","ErrorComponent_inherits","error","toString","colorPallete","TimeLineChartComponent","_this","TimeLineChartComponent_classCallCheck","TimeLineChartComponent_getPrototypeOf","call","createChart","bind","TimeLineChartComponent_assertThisInitialized","TimeLineChartComponent_inherits","node","VIEW_HEIGHT","margin","top","right","EVENT_RADIUS","bottom","left","lines","Math","max","d3","selectAll","remove","svg","attr","append","xScale","domain","range","nice","tickFormat","graph","LINE_HEIGHT","line","index","start","end","Number","MAX_SAFE_INTEGER","events","errors","stops","y","lineg","data","enter","eventMarks","style","color","text","TimeLineChartComponent_typeof","errorMarks","_this2","ref","state","getState","addLine","newState","_toConsumableArray","assign","api","chart","createObserver","chartStateProxy","next","complete","palette","availablePackages","load","Rx","RxOperators","rpApi","colors","PackageNotSupportedError","require_classCallCheck","availablePackageNames","map","p","errorMessage","require_possibleConstructorReturn","require_getPrototypeOf","_require","pkg","find","Playground_classCallCheck","Playground_getPrototypeOf","_this$executeScript","executeScript","Playground_assertThisInitialized","Playground_inherits","nextProps","_this$executeScript2","setState","sourceCode","execStatus","execTime","result","Function","err","console","chartState","_this$executeScript3","_this$state","showError","EditorComponent_EditorComponent","ErrorComponent_ErrorComponent","TimeLineChartComponent_TimeLineChartComponent"],"mappings":"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","file":"templates/src-Playground-PlaygroundContainer~src-pages-index.080e4ff4.js","sourcesContent":["import React from 'react';\n\nexport const PlaygroundWrapper = (props) => {\n    if (typeof document !== 'undefined') {\n        const { Playground } = require('./Playground');\n        return <Playground { ...props } />\n    } else {\n        return <code>{ props.code }</code>;\n    }\n}","// NOTE: [kos] this module is written in CommonJS style\n//       because intention is to move it to a separate package\nmodule.exports = require('./mock-delayed-execution');","/**\n * This module substitutes delayed code execution methods on global object to\n * execute them in syncronous way, while `Date.now` and `new Date()` will behave\n * as if they were executed asyncronously.\n * \n * NOTE: The substitution happens only within `execute` function,\n *       but this module's code should be required\n *       before any other code closes the methods\n * \n * Next methods are currently covered:\n * - Date\n * - Date.now\n * - setTimeout\n * - clearTimeout\n * - setInterval\n * - clearInterval\n * \n * These are not yet implemented:\n * - requestAnimationFrame\n * - cancelAnimationFrame\n * \n * NOTE: real async functions like `readFile`, `fetch` etc\n *       are not supported by this module\n * \n * @example\n * const { execute } = require('./index');\n * \n * console.log('start');\n * \n * execute(()=>{\n *   setTimeout(()=>{\n *     console.log(Date.now());\n *   }, 100);\n * });\n * \n * console.log('end');\n * \n * // Outputs\n * // > start\n * // > 100\n * // > end\n */\n\n// Get global object, typesafe\nconst __window = typeof window !== 'undefined' && window;\nconst __global = typeof global !== 'undefined' && global;\nconst glob = __window || __global;\n\nconst ONE_MINUTE = 1000 * 60;\n\n// Store ref to both mocked and original methods\n// to switch between while in `.execute` function\nconst originals = Object.create(null);\nconst mocks     = Object.create(null);\nlet isMockMode = false;\n\n// Methods to override\nconst overridies =\n    [ 'Date'\n    , 'setTimeout'\n    , 'clearTimeout'\n    , 'setInterval'\n    , 'clearInterval'\n    , 'requestAnimationFrame'\n    , 'cancelAnimationFrame'\n    ];\n\noverridies\n    .filter(key=>glob[key] !== undefined)\n    .forEach(key=>{\n        originals[key] = glob[key];\n        glob[key] = function MockSub(...args){\n            const mock = mocks[key];\n            const original = originals[key];\n\n            // Run mocks only in MockMode\n            const fn = isMockMode ? mock : original;\n\n            // Keep the behaviour for `new Date()` vs `Date()`\n            if (this instanceof MockSub) {\n                return new fn(...args);\n            } else {\n                return fn(...args);\n            }\n        }\n    });\n\n// Mock for `Date.now`, special case {{{\nif (originals.Date && originals.Date.now) {\n    glob.Date.now = ()=>{\n        const fn = isMockMode ? mocks.Date.now : originals.Date.now;\n        return fn();\n    };\n}\n// }}}\n\n/**\n * Runs a function within mocked env\n * \n * @param {Function} fn function to execute in MockMode\n * @param {Number} maxLifetime limits maximum lifetime of the fn's async calls\n */\nfunction execute(fn, maxLifetime = ONE_MINUTE){\n    maxLifetime = (maxLifetime > 0) ? +maxLifetime : ONE_MINUTE;\n    let time;\n\n    // Date {{{\n    mocks.Date = function _Date(...args){\n        if (!(this instanceof _Date)) {\n            return originals.Date(...args);\n        }\n        if (args.length === 0) {\n            return new originals.Date(time);\n        }\n        return new originals.Date(...args);\n    };\n    mocks.Date.now = ()=> time;\n    // }}}\n\n    let tasks = [];\n\n    // Helper to create ids to setTimeout and setInterval\n    const getId = (()=>{\n        let id = 0;\n        return ()=>id++;\n    })();\n\n    // intervals and timeouts are tasks\n    const createTask = (timeout) => (\n        { id: getId()\n        , time\n        , registeredAt: time\n        , timeout\n        });\n\n    const addTask = (task) => {\n        tasks.push(task);\n    };\n\n    const clearTask = id => {\n        tasks = tasks.filter(x=>x.id!==id);\n    }\n\n    // setInterval {{{\n    mocks.setInterval = (cb, timeout, ...args)=>{\n        const task = createTask(timeout);\n\n        task.fn = ()=>{\n            // updates last executed time on each execution\n            task.time = time;\n            cb(...args);\n        };\n\n        addTask(task);\n        return task.id;\n    }\n    mocks.clearInterval = clearTask;\n    // }}}\n\n    // setTimeout {{{\n    mocks.setTimeout = (cb, timeout, ...args)=>{\n        const task = createTask(timeout);\n\n        task.fn = ()=>{\n            clearTimeout(task.id);\n            cb(...args);\n        };\n\n        addTask(task);\n        return task.id;\n    }\n    mocks.clearTimeout = clearTask;\n    // }}}\n\n    // requestAnimationFrame {{{\n    mocks.requestAnimationFrame = () => { throw new Error('Sorry, `requestAnimationFrame` is not implemented yet'); };\n    mocks.cancelAnimationFrame  = () => { throw new Error('Sorry, `cancelAnimationFrame` is not implemented yet'); };\n    // }}}\n\n    // Gets next task to execute\n    // TODO: [kos] check docs for execution order rules\n    const getNextTask = ()=>\n        tasks\n            .filter(x => (time - x.time) >= x.timeout)\n            .sort((a,b)=>\n                       (a.registeredAt - b.registeredAt) // registered earlier\n                    || (a.time - b.time)                 // or executed earlier\n                    || (a.id - b.id))                    // or with lesser id\n            .shift();\n\n    // Runs all delayed code\n    const flush = ()=>{\n        while(tasks.length){\n            if (time >= maxLifetime) {\n                return `Ran out of time (${maxLifetime}ms)`;\n            }\n            let nextTask;\n            while(nextTask = getNextTask()){ // eslint-disable-line no-cond-assign\n                // TODO: [kos] potentially this might lead to an infinite loop.\n                //       Add anti-infinite loop guard, like throttling\n                //       https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout#Reasons_for_delays_longer_than_specified\n                //       e.g. `timeout = Math.max(4, Number(timeout))`\n                nextTask.fn();\n            }\n            time++;\n        }\n        time--; // [kos] I know, this is dumb, needed to undo last `time++`\n        return 0;\n    };\n\n    let status;\n    try {\n        time = 0;\n        isMockMode = true;\n        fn();\n        status = flush();\n    } finally {\n        isMockMode = false;\n        // cleanup mocks\n        overridies.forEach(key=>{ mocks[key] = null; });\n    }\n\n    return { time, status };\n}\n\nmodule.exports = {\n    execute\n}","import React, { Component } from 'react';\nimport './EditorComponent.css';\nimport AceEditor from 'react-ace';\n\nimport 'brace/mode/javascript';\nimport 'brace/theme/monokai';\n\nexport class EditorComponent extends Component {\n    render() {\n        const height\n            = this.props.viewHeight\n            ? (this.props.viewHeight + 'px')\n            : '500px'\n            ;\n\n        return (\n            <AceEditor\n                className=\"EditorComponent\"\n                name=\"AceEditor_EditorComponent\"\n\n                mode=\"javascript\"\n                theme=\"monokai\"\n\n                defaultValue={ this.props.defaultValue }\n                value={ this.props.value }\n\n                width=\"100%\"\n                height={ height }\n\n                showGutter={true}\n                tabSize={2}\n                wrapEnabled={true}\n                setOptions={{ showFoldWidgets: false }}\n\n                editorProps={{ $blockScrolling: true }}\n                debounceChangePeriod={ 500 }\n\n                onChange={this.props.onChange}\n            />\n        )\n    }\n}","import React, { Component } from 'react';\nimport './ErrorComponent.css';\n\nexport class ErrorComponent extends Component {\n    render() {\n        const error = this.props.error;\n        return (\n            <div className=\"ErrorComponent\">\n                { error.toString() }\n            </div>\n        )\n    }\n}","import React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport './TimeLineChartComponent.css';\n\nconst DEFAULT_VIEW_WIDTH = 460;  // TODO: read actual width\nconst DEFAULT_VIEW_HEIGHT = 500; // TODO: read actual height\n\nconst colorPallete = [\"#03a9f4\", \"#ffeb3b\", \"#8bc34a\", \"#00bcd4\", \"#ff9800\", \"#ff5073\", \"#4caf50\", \"#2196f3\", \"#33cf89\", \"#4e86ff\", \"#009688\", \"#cddc39\", \"#ffc107\"]\n\n\nexport class TimeLineChartComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.createChart = this.createChart.bind(this);\n    }\n\n    componentDidMount() {\n        this.createChart();\n    }\n\n    componentDidUpdate() {\n        this.createChart();\n    }\n\n    createChart() {\n        const node = this.node;\n\n        const VIEW_HEIGHT = this.props.viewHeight || DEFAULT_VIEW_HEIGHT;\n        const VIEW_WIDTH = DEFAULT_VIEW_WIDTH;\n\n        // TODO: scale vert\n        const EVENT_RADIUS = 17;\n        const LINE_HEIGHT = EVENT_RADIUS * 2;\n\n        const FIELD_PADDING = LINE_HEIGHT * 2;\n\n        const MIN_MS_TO_DISPLAY = 10;\n\n        const margin =\n            { top:    0\n            , right:  EVENT_RADIUS + 2\n            , bottom: EVENT_RADIUS + 2\n            , left:   EVENT_RADIUS * 1.5\n            };\n\n        const width  = VIEW_WIDTH  - margin.left - margin.right;\n        const height = VIEW_HEIGHT - margin.top - margin.bottom;\n\n        const lines = this.props.lines;\n        const time = Math.max(this.props.time, MIN_MS_TO_DISPLAY);\n\n        // cleanup before going further\n        d3\n            .select(node)\n            .selectAll('g.root')\n            .remove();\n\n        const svg = d3\n            .select(node)\n            .attr('width', width + margin.left + margin.right)\n            .attr('height', height + margin.top + margin.bottom)\n            .append('g')\n            .attr('class', 'root')\n            .attr('transform', `translate( ${ margin.left }, ${ margin.top })`);\n\n        const xScale = d3.scaleLinear()\n            .domain([0, time])\n            .range([0, width])\n            .nice();\n\n        // add x axis\n        svg\n            .append('g')\n            .attr('class', 'axis axis--x')\n            .call(\n                d3.axisBottom(xScale).tickFormat(x=>x + 'ms')\n            );\n        \n        const graph = svg\n            .append('g')\n            .attr('transform', `translate(0, ${ FIELD_PADDING })`);\n\n        if (!lines){\n            return;\n        }\n\n        lines.forEach((line, index)=>{\n            const start = line.start;\n            // TOOD: mark line as exhausting the chart, instead of drawing it to infinity\n            const end = line.end === undefined ? Number.MAX_SAFE_INTEGER : line.end;\n            const events = line.events || [];\n            const errors = line.errors || [];\n            const stops  = line.stops  || [];\n\n            // TODO: scale vert\n            const y = index * LINE_HEIGHT * 2;\n\n            const lineg = graph\n                .append('g')\n                .attr('class', 'thread')\n                .attr('transform', d => `translate( 0, ${ y })`)\n\n            // Baseline\n            lineg\n                .append('line')\n                .attr('class', 'baseline')\n                .attr('x1', ()=>xScale(start))\n                .attr('y1', 0)\n                .attr('x2', ()=>xScale(end))\n                .attr('y2', 0);\n\n            // Start mark\n            lineg\n                .append('line')\n                .attr('class', 'startmark')\n                .attr('x1', ()=>xScale(start))\n                .attr('y1', -25)\n                .attr('x2', ()=>xScale(start))\n                .attr('y2', 0);\n\n            // End marks\n            lineg\n                .selectAll('g.end')\n                .data(stops)\n                .enter()\n                .append('g')\n                .attr('class', 'end')\n                .attr('transform', d => `translate( ${ xScale(d.time) }, 0)`)\n\n                .append('line')\n                .attr('class', 'endmark')\n                .attr('x1', 0)\n                .attr('y1', -25 )\n                .attr('x2', 0)\n                .attr('y2', +25);\n\n            // Events {{{\n            const eventMarks = lineg\n                .selectAll('g.event')\n                .data(events)\n                .enter()\n                .append('g')\n                .attr('class', 'event')\n                .attr('transform', d => `translate( ${ xScale(d.time) }, 0)`);\n\n            eventMarks\n                .append('circle')\n                .attr('r', EVENT_RADIUS)\n                .style('fill', (d, index) => {\n                    if (d.value && d.value.color) {\n                        return d.value.color;\n                    }\n\n                    return colorPallete[index % colorPallete.length]\n                });\n\n            eventMarks\n                .append('text')\n                .attr('text-anchor', 'middle')\n                .attr('y', 5)\n                .text(d => {\n                    if (d.value == null){\n                        return '';\n                    }\n\n                    if (typeof d.value === 'object') {\n                        return d.value.value;\n                    }\n\n                    return d.value;\n                });\n            // }}}\n\n            const errorMarks = lineg\n                .selectAll('g.error')\n                .data(errors)\n                .enter()\n                .append('g')\n                .attr('class', 'error')\n                .attr('transform', d => `translate( ${ xScale(d.time) }, 0)`);\n            \n            errorMarks\n                .attr('title', d=>d.value);\n\n            errorMarks\n                .append('line')\n                .attr('x1', -EVENT_RADIUS)\n                .attr('y1', -EVENT_RADIUS)\n                .attr('x2', +EVENT_RADIUS)\n                .attr('y2', +EVENT_RADIUS);\n\n            errorMarks\n                .append('line')\n                .attr('x1', +EVENT_RADIUS)\n                .attr('y1', -EVENT_RADIUS)\n                .attr('x2', -EVENT_RADIUS)\n                .attr('y2', +EVENT_RADIUS);\n        });\n    }\n\n    render() {\n        const VIEW_HEIGHT = this.props.viewHeight || DEFAULT_VIEW_HEIGHT;\n        const VIEW_WIDTH = DEFAULT_VIEW_WIDTH;\n\n        return (\n            <svg\n                className=\"TimeLineChartComponent\"\n                ref={ node => this.node = node }\n                width={VIEW_WIDTH}\n                height={VIEW_HEIGHT}>\n            </svg>\n        )\n    }\n}","// Naive state implementation\n// TODO: move to a 3rd party state management\nlet state = Object.create(null);\n\nconst getState = ()=>{\n    return state;\n}\n\nconst setState = (newState) => {\n    state = Object.assign(Object.create(null), state, newState);\n    return state;\n}\n\nconst resetState = () => {\n    state = Object.create(null);\n    return state;\n}\n\nexport {\n    getState,\n    setState,\n    resetState\n};","import * as state from './state';\n\nconst addLine = line => {\n    const lines = state.getState().lines || [];\n    state.setState({\n        lines: [ ...lines\n               , line\n               ]\n    });\n}\n\nexport { addLine }","import chart from './chart';\nconst api = { chart };\nexport default api;","import * as chartStateProxy from './chart-state-proxy';\nimport { createLine } from './line';\n\nconst createObserver = () => {\n    const line = createLine();\n\n    const onNext = value => {\n        line.events.push({\n            time: Date.now(),\n            value\n        });\n    }\n\n    const onError = value => {\n        line.errors.push({\n            time: Date.now(),\n            value\n        });\n        line.end = Date.now();\n    }\n\n    const onComplete = () => {\n        line.stops.push({\n            time: Date.now(),\n        });\n        line.end = Date.now();\n    }\n\n    chartStateProxy.addLine(line);\n\n    // Line implements RxJS Observer interface\n    // http://reactivex.io/rxjs/class/es6/MiscJSDoc.js~ObserverDoc.html\n    return {\n        next: onNext,\n        error: onError,\n        complete: onComplete\n    }\n}\n\nconst chart = { createObserver };\nexport default chart;","const createLine = () => {\n    return {\n        start:  Date.now(),\n        end:    undefined,\n        events: [],\n        errors: [],\n        stops:  [],\n    };\n};\n\n\nexport { createLine }","export const palette =\n    [ '#03a9f4'\n    , '#ffeb3b'\n    , '#8bc34a'\n    , '#00bcd4'\n    , '#ff9800'\n    , '#ff5073'\n    , '#4caf50'\n    , '#2196f3'\n    , '#33cf89'\n    , '#4e86ff'\n    , '#009688'\n    , '#cddc39'\n    , '#ffc107'\n    ];","/**\n * Naive implementation of require mock for playground scripts\n * TODO: find a better way to do proper requires on the fly\n */\n\n// RxJS {{{\nimport Rx from 'rxjs/Rx';\n// NOTE: 'rxjs/operators' is needed to load lettable operators\n//       https://github.com/ReactiveX/rxjs/blob/master/doc/lettable-operators.md\nimport * as RxOperators from 'rxjs/operators';\n// }}}\n\nimport rpApi from './rp-api';\nimport * as colors from './colors';\n\nconst availablePackages = [\n    { // RxJS\n        name: 'rxjs/Rx',\n        load: () => Rx\n    },\n    { // RxJS lettable operators\n        name: 'rxjs/operators',\n        load: () => RxOperators\n    },\n\n\n    { // chart api\n        name: 'rp-api',\n        load: () => rpApi\n    },\n    {\n        name: 'rp-api/colors',\n        load: () => colors\n    }\n];\n\nclass PackageNotSupportedError extends Error {\n    constructor(name){\n        const availablePackageNames = availablePackages.map(p => p.name);\n        const errorMessage = `Currently package \"${name}\" is not supported. Please, use one of these: ${availablePackageNames}`;\n        super(errorMessage);\n    }\n}\n\nconst _require = name => {\n    const pkg = availablePackages.find(x=>x.name === name);\n    if (pkg === undefined) {\n        throw new PackageNotSupportedError(name);\n    }\n    return pkg.load();\n}\n\nexport { _require };","import React, { Component } from 'react';\nimport './Playground.css';\nimport { execute } from '../mock-delayed-execution';\nimport { EditorComponent } from './components/Editor/EditorComponent';\nimport { ErrorComponent } from './components/Error/ErrorComponent';\nimport { TimeLineChartComponent } from './components/TimeLineChart/TimeLineChartComponent';\nimport { _require } from './../playground-api/require';\nimport * as chartState from '../playground-api/state';\n\nconst MAX_EXECUTION_TIME = 1000; // 1 sec is max execution time for scripts\n\nexport class Playground extends Component {\n    constructor(props){\n        super(props);\n\n        const code = props.code;\n\n        const { status, time, lines } = this.executeScript(code);\n        this.state = {\n            value: '',\n            defaultValue: code,\n            status,\n            time,\n            lines\n        };\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n    componentWillReceiveProps(nextProps) {\n        const code = nextProps.code;\n        const { status, time, lines } = this.executeScript(code);\n        this.setState({\n            value: code,\n            defaultValue: code,\n            status,\n            time,\n            lines\n        });\n    }\n\n    executeScript(sourceCode){\n        chartState.resetState();\n        let execStatus, execTime;\n        try {\n            let result = execute(() => {\n                // eslint-disable-next-line no-new-func\n                const fn = Function('require', sourceCode);\n                fn(_require);\n            }, MAX_EXECUTION_TIME);\n\n            execStatus = result.status;\n            execTime   = result.time;\n        } catch (err) {\n            console.error(err);\n            execStatus = err;\n            execTime = 0;\n        }\n\n        const { lines } = chartState.getState();\n\n        return { time:   execTime\n               , status: execStatus\n               , lines\n               };\n    }\n\n    onChange(sourceCode){\n        const { status, time, lines } = this.executeScript(sourceCode);\n\n        this.setState({\n            value: sourceCode,\n            status,\n            time,\n            lines,\n        });\n    }\n\n    render() {\n        const { status, time, lines, value, defaultValue } = this.state;\n        const showError = status instanceof Error;\n        return (\n            <div className=\"Playground\">\n                <div className=\"Playground__editor\">\n                    <EditorComponent\n                        value={ value }\n                        viewHeight={this.props.height}\n                        defaultValue={ defaultValue }\n                        onChange={ this.onChange }\n                    ></EditorComponent>\n                </div>\n                <div className=\"Playground__chart\">\n                    {\n                        showError\n                        && (<ErrorComponent error={ status }></ErrorComponent>)\n                    }\n                    {\n                        !showError\n                        && (<TimeLineChartComponent\n                            time={time}\n                            lines={lines}\n                            viewHeight={this.props.height}\n                            ></TimeLineChartComponent>)\n                    }\n                </div>\n            </div>\n        );\n    }\n}"],"sourceRoot":""}